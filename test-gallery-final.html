<!DOCTYPE html>
<html>
<head>
    <title>Gallery Test</title>
    <style>
        .gallery { display: flex; flex-wrap: wrap; gap: 10px; }
        .photo { width: 200px; }
        .photo img { width: 100%; height: auto; }
        .status { padding: 10px; margin: 10px 0; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Gallery Image Test</h1>
    <div id="status"></div>
    <div id="gallery" class="gallery"></div>

    <script>
        const status = document.getElementById('status');
        const gallery = document.getElementById('gallery');

        async function testGallery() {
            try {
                // Load album data
                status.innerHTML = '<div class="status">Loading album data...</div>';
                const response = await fetch('https://kaiukodukant.ee/api/gallery/albums/1wYO8vri-lYhMWrZOKt30n-gZ0dobjrAa.json');
                const album = await response.json();

                status.innerHTML = `<div class="status success">✓ Loaded ${album.photos.length} photos</div>`;

                // Display first 5 photos
                album.photos.slice(0, 5).forEach(photo => {
                    const div = document.createElement('div');
                    div.className = 'photo';
                    div.innerHTML = `
                        <img src="${photo.thumbnailUrl}"
                             alt="${photo.name}"
                             onload="this.parentElement.style.border='2px solid green'"
                             onerror="this.parentElement.style.border='2px solid red'; console.error('Failed to load: ${photo.thumbnailUrl}')">
                        <p>${photo.name}</p>
                    `;
                    gallery.appendChild(div);
                });
            } catch (error) {
                status.innerHTML = `<div class="status error">✗ Error: ${error.message}</div>`;
            }
        }

        testGallery();
    </script>
</body>
</html>